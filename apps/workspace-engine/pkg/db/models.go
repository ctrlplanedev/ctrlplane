// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0

package db

import (
	"database/sql/driver"
	"fmt"

	"github.com/google/uuid"
	"github.com/jackc/pgx/v5/pgtype"
)

type DeploymentVersionStatus string

const (
	DeploymentVersionStatusBuilding DeploymentVersionStatus = "building"
	DeploymentVersionStatusReady    DeploymentVersionStatus = "ready"
	DeploymentVersionStatusFailed   DeploymentVersionStatus = "failed"
	DeploymentVersionStatusRejected DeploymentVersionStatus = "rejected"
	DeploymentVersionStatusPaused   DeploymentVersionStatus = "paused"
)

func (e *DeploymentVersionStatus) Scan(src interface{}) error {
	switch s := src.(type) {
	case []byte:
		*e = DeploymentVersionStatus(s)
	case string:
		*e = DeploymentVersionStatus(s)
	default:
		return fmt.Errorf("unsupported scan type for DeploymentVersionStatus: %T", src)
	}
	return nil
}

type NullDeploymentVersionStatus struct {
	DeploymentVersionStatus DeploymentVersionStatus
	Valid                   bool // Valid is true if DeploymentVersionStatus is not NULL
}

// Scan implements the Scanner interface.
func (ns *NullDeploymentVersionStatus) Scan(value interface{}) error {
	if value == nil {
		ns.DeploymentVersionStatus, ns.Valid = "", false
		return nil
	}
	ns.Valid = true
	return ns.DeploymentVersionStatus.Scan(value)
}

// Value implements the driver Valuer interface.
func (ns NullDeploymentVersionStatus) Value() (driver.Value, error) {
	if !ns.Valid {
		return nil, nil
	}
	return string(ns.DeploymentVersionStatus), nil
}

type JobVerificationStatus string

const (
	JobVerificationStatusFailed       JobVerificationStatus = "failed"
	JobVerificationStatusInconclusive JobVerificationStatus = "inconclusive"
	JobVerificationStatusPassed       JobVerificationStatus = "passed"
)

func (e *JobVerificationStatus) Scan(src interface{}) error {
	switch s := src.(type) {
	case []byte:
		*e = JobVerificationStatus(s)
	case string:
		*e = JobVerificationStatus(s)
	default:
		return fmt.Errorf("unsupported scan type for JobVerificationStatus: %T", src)
	}
	return nil
}

type NullJobVerificationStatus struct {
	JobVerificationStatus JobVerificationStatus
	Valid                 bool // Valid is true if JobVerificationStatus is not NULL
}

// Scan implements the Scanner interface.
func (ns *NullJobVerificationStatus) Scan(value interface{}) error {
	if value == nil {
		ns.JobVerificationStatus, ns.Valid = "", false
		return nil
	}
	ns.Valid = true
	return ns.JobVerificationStatus.Scan(value)
}

// Value implements the driver Valuer interface.
func (ns NullJobVerificationStatus) Value() (driver.Value, error) {
	if !ns.Valid {
		return nil, nil
	}
	return string(ns.JobVerificationStatus), nil
}

type JobVerificationTriggerOn string

const (
	JobVerificationTriggerOnJobCreated JobVerificationTriggerOn = "jobCreated"
	JobVerificationTriggerOnJobStarted JobVerificationTriggerOn = "jobStarted"
	JobVerificationTriggerOnJobSuccess JobVerificationTriggerOn = "jobSuccess"
	JobVerificationTriggerOnJobFailure JobVerificationTriggerOn = "jobFailure"
)

func (e *JobVerificationTriggerOn) Scan(src interface{}) error {
	switch s := src.(type) {
	case []byte:
		*e = JobVerificationTriggerOn(s)
	case string:
		*e = JobVerificationTriggerOn(s)
	default:
		return fmt.Errorf("unsupported scan type for JobVerificationTriggerOn: %T", src)
	}
	return nil
}

type NullJobVerificationTriggerOn struct {
	JobVerificationTriggerOn JobVerificationTriggerOn
	Valid                    bool // Valid is true if JobVerificationTriggerOn is not NULL
}

// Scan implements the Scanner interface.
func (ns *NullJobVerificationTriggerOn) Scan(value interface{}) error {
	if value == nil {
		ns.JobVerificationTriggerOn, ns.Valid = "", false
		return nil
	}
	ns.Valid = true
	return ns.JobVerificationTriggerOn.Scan(value)
}

// Value implements the driver Valuer interface.
func (ns NullJobVerificationTriggerOn) Value() (driver.Value, error) {
	if !ns.Valid {
		return nil, nil
	}
	return string(ns.JobVerificationTriggerOn), nil
}

type ChangelogEntry struct {
	WorkspaceID uuid.UUID
	EntityType  string
	EntityID    string
	EntityData  []byte
	CreatedAt   pgtype.Timestamptz
}

type ComputedDeploymentResource struct {
	DeploymentID    uuid.UUID
	ResourceID      uuid.UUID
	CreatedAt       pgtype.Timestamptz
	LastEvaluatedAt pgtype.Timestamptz
}

type ComputedEnvironmentResource struct {
	EnvironmentID   uuid.UUID
	ResourceID      uuid.UUID
	CreatedAt       pgtype.Timestamptz
	LastEvaluatedAt pgtype.Timestamptz
}

type Deployment struct {
	ID               uuid.UUID
	Name             string
	Description      string
	JobAgentID       uuid.UUID
	JobAgentConfig   map[string]any
	JobAgents        []byte
	ResourceSelector pgtype.Text
	Metadata         map[string]string
	WorkspaceID      uuid.UUID
}

type DeploymentVariable struct {
	ID           uuid.UUID
	DeploymentID uuid.UUID
	Key          string
	Description  pgtype.Text
	DefaultValue []byte
}

type DeploymentVariableValue struct {
	ID                   uuid.UUID
	DeploymentVariableID uuid.UUID
	Value                []byte
	ResourceSelector     pgtype.Text
	Priority             int64
}

type DeploymentVersion struct {
	ID             uuid.UUID
	Name           string
	Tag            string
	Config         map[string]any
	JobAgentConfig map[string]any
	DeploymentID   uuid.UUID
	Metadata       map[string]string
	Status         DeploymentVersionStatus
	Message        pgtype.Text
	CreatedAt      pgtype.Timestamptz
	WorkspaceID    uuid.UUID
}

type Environment struct {
	ID               uuid.UUID
	Name             string
	Description      pgtype.Text
	ResourceSelector string
	Metadata         map[string]string
	CreatedAt        pgtype.Timestamptz
	WorkspaceID      uuid.UUID
}

type JobAgent struct {
	ID          uuid.UUID
	WorkspaceID uuid.UUID
	Name        string
	Type        string
	Config      map[string]any
}

type JobVerificationMetric struct {
	ID               uuid.UUID
	CreatedAt        pgtype.Timestamptz
	Name             string
	Provider         []byte
	IntervalSeconds  int32
	Count            int32
	SuccessCondition string
	SuccessThreshold pgtype.Int4
	FailureCondition pgtype.Text
	FailureThreshold pgtype.Int4
}

type JobVerificationMetricMeasurement struct {
	ID                            uuid.UUID
	JobVerificationMetricStatusID uuid.UUID
	Data                          []byte
	MeasuredAt                    pgtype.Timestamptz
	Message                       string
	Status                        JobVerificationStatus
}

type Policy struct {
	ID          uuid.UUID
	Name        string
	Description pgtype.Text
	Selector    string
	Metadata    map[string]string
	Priority    int32
	Enabled     bool
	WorkspaceID uuid.UUID
	CreatedAt   pgtype.Timestamptz
}

type PolicyRuleAnyApproval struct {
	ID           uuid.UUID
	PolicyID     uuid.UUID
	MinApprovals int32
	CreatedAt    pgtype.Timestamptz
}

type PolicyRuleDeploymentDependency struct {
	ID        uuid.UUID
	PolicyID  uuid.UUID
	DependsOn string
	CreatedAt pgtype.Timestamptz
}

type PolicyRuleDeploymentWindow struct {
	ID              uuid.UUID
	PolicyID        uuid.UUID
	AllowWindow     pgtype.Bool
	DurationMinutes int32
	Rrule           string
	Timezone        pgtype.Text
	CreatedAt       pgtype.Timestamptz
}

type PolicyRuleEnvironmentProgression struct {
	ID                           uuid.UUID
	PolicyID                     uuid.UUID
	DependsOnEnvironmentSelector string
	MaximumAgeHours              pgtype.Int4
	MinimumSoakTimeMinutes       pgtype.Int4
	MinimumSuccessPercentage     pgtype.Float4
	SuccessStatuses              []string
	CreatedAt                    pgtype.Timestamptz
}

type PolicyRuleGradualRollout struct {
	ID                uuid.UUID
	PolicyID          uuid.UUID
	RolloutType       string
	TimeScaleInterval int32
	CreatedAt         pgtype.Timestamptz
}

type PolicyRuleJobVerificationMetric struct {
	ID               uuid.UUID
	TriggerOn        JobVerificationTriggerOn
	PolicyID         uuid.UUID
	Name             string
	Provider         []byte
	IntervalSeconds  int32
	Count            int32
	SuccessCondition string
	SuccessThreshold pgtype.Int4
	FailureCondition pgtype.Text
	FailureThreshold pgtype.Int4
}

type PolicyRuleRetry struct {
	ID                uuid.UUID
	PolicyID          uuid.UUID
	MaxRetries        int32
	BackoffSeconds    pgtype.Int4
	BackoffStrategy   pgtype.Text
	MaxBackoffSeconds pgtype.Int4
	RetryOnStatuses   []string
	CreatedAt         pgtype.Timestamptz
}

type PolicyRuleRollback struct {
	ID                    uuid.UUID
	PolicyID              uuid.UUID
	OnJobStatuses         []string
	OnVerificationFailure pgtype.Bool
	CreatedAt             pgtype.Timestamptz
}

type PolicyRuleVerification struct {
	ID        uuid.UUID
	PolicyID  uuid.UUID
	Metrics   []byte
	TriggerOn pgtype.Text
	CreatedAt pgtype.Timestamptz
}

type PolicyRuleVersionCooldown struct {
	ID              uuid.UUID
	PolicyID        uuid.UUID
	IntervalSeconds int32
	CreatedAt       pgtype.Timestamptz
}

type PolicyRuleVersionSelector struct {
	ID          uuid.UUID
	PolicyID    uuid.UUID
	Description pgtype.Text
	Selector    string
	CreatedAt   pgtype.Timestamptz
}

type Release struct {
	ID            uuid.UUID
	ResourceID    uuid.UUID
	EnvironmentID uuid.UUID
	DeploymentID  uuid.UUID
	VersionID     uuid.UUID
	CreatedAt     pgtype.Timestamptz
}

type ReleaseVariable struct {
	ID        uuid.UUID
	ReleaseID uuid.UUID
	Key       string
	Value     []byte
	Encrypted bool
	CreatedAt pgtype.Timestamptz
}

type Resource struct {
	ID          uuid.UUID
	Version     string
	Name        string
	Kind        string
	Identifier  string
	ProviderID  uuid.UUID
	WorkspaceID uuid.UUID
	Config      map[string]any
	CreatedAt   pgtype.Timestamptz
	UpdatedAt   pgtype.Timestamptz
	DeletedAt   pgtype.Timestamptz
	LockedAt    pgtype.Timestamptz
	Metadata    map[string]string
}

type ResourceProvider struct {
	ID          uuid.UUID
	Name        string
	WorkspaceID uuid.UUID
	CreatedAt   pgtype.Timestamptz
	Metadata    map[string]string
}

type ResourceVariable struct {
	ResourceID uuid.UUID
	Key        string
	Value      []byte
}

type System struct {
	ID          uuid.UUID
	Name        string
	Description string
	WorkspaceID uuid.UUID
	Metadata    []byte
}

type SystemDeployment struct {
	SystemID     uuid.UUID
	DeploymentID uuid.UUID
	CreatedAt    pgtype.Timestamptz
}

type SystemEnvironment struct {
	SystemID      uuid.UUID
	EnvironmentID uuid.UUID
	CreatedAt     pgtype.Timestamptz
}

type UserApprovalRecord struct {
	VersionID     uuid.UUID
	UserID        uuid.UUID
	EnvironmentID uuid.UUID
	Status        string
	Reason        pgtype.Text
	CreatedAt     pgtype.Timestamptz
}

type Workflow struct {
	ID          uuid.UUID
	Name        string
	Inputs      []byte
	Jobs        []byte
	WorkspaceID uuid.UUID
}

type WorkflowJob struct {
	ID            uuid.UUID
	WorkflowRunID uuid.UUID
	Ref           string
	Config        map[string]any
	Index         int32
}

type WorkflowJobTemplate struct {
	ID          uuid.UUID
	WorkflowID  uuid.UUID
	Name        string
	Ref         string
	Config      map[string]any
	IfCondition pgtype.Text
	Matrix      []byte
}

type WorkflowRun struct {
	ID         uuid.UUID
	WorkflowID uuid.UUID
	Inputs     map[string]any
}

type Workspace struct {
	ID        uuid.UUID
	Name      string
	Slug      string
	CreatedAt pgtype.Timestamptz
}
